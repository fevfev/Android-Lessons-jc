# üíº –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Android

## üì± –í–≤–µ–¥–µ–Ω–∏–µ

–ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å –º–µ—Ä, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

![SecBeck.png](../images/SecBeck.png)

## üõ°Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
**–ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å?**

*   **–ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** –ü–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã, –ª–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Äì –≤—Å—ë —ç—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–¥–µ–∂–Ω–æ –∑–∞—â–∏—â–µ–Ω–æ.
*   **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∞—Ç–∞–∫:** SQL Injection, Cross-Site Scripting (XSS), Man-in-the-Middle (MitM) –∏ –¥—Ä—É–≥–∏–µ –∞—Ç–∞–∫–∏ –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —É—Ç–µ—á–∫–µ –¥–∞–Ω–Ω—ã—Ö, –≤–∑–ª–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –¥—Ä—É–≥–∏–º —Å–µ—Ä—å–µ–∑–Ω—ã–º –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º.
*   **–†–µ–ø—É—Ç–∞—Ü–∏—è:** –ï—Å–ª–∏ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –≤–∑–ª–æ–º–∞–Ω–æ, —ç—Ç–æ –º–æ–∂–µ—Ç –Ω–∞–Ω–µ—Å—Ç–∏ —Å–µ—Ä—å–µ–∑–Ω—ã–π —É—â–µ—Ä–± –≤–∞—à–µ–π —Ä–µ–ø—É—Ç–∞—Ü–∏–∏ –∏ –¥–æ–≤–µ—Ä–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
*   **–°–æ–±–ª—é–¥–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π:** –ú–Ω–æ–≥–∏–µ –∑–∞–∫–æ–Ω—ã –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, GDPR) —Ç—Ä–µ–±—É—é—Ç –∑–∞—â–∏—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
* **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞** –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ä–µ—Å—É—Ä—Å–∞–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
### –¢–∏–ø—ã –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö

1. –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
1. –ó–∞—â–∏—Ç–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö

## –í–≤–µ–¥–µ–Ω–∏–µ –≤ –∑–∞—â–∏—Ç—É –¥–∞–Ω–Ω—ã—Ö

* **–ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö**: —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å –º–µ—Ä –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Ö—Ä–∞–Ω—è—â–µ–π—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –∫—Ä–∞–π–Ω–µ –≤–∞–∂–Ω–æ –∑–∞—â–∏—â–∞—Ç—å –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞, —É—Ç–µ—á–µ–∫ –∏ –≤–∑–ª–æ–º–æ–≤.

–ù–∞ –Ω–∞—á–∞–ª—å–Ω–æ–º —ç—Ç–∞–ø–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–ª–µ–¥—É–µ—Ç —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–Ω—è—Ç–∏—è—Ö –∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞—Ö, –ø–æ—Å–ª–µ —á–µ–≥–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º –ø—Ä–∏–º–µ—Ä–∞–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö –≤ Android.
![Serc.png](../images/Serc.png)
**–û—Å–Ω–æ–≤—ã –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö**

* **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** ‚Äì –ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–π –¥–ª—è —á—Ç–µ–Ω–∏—è –≤–∏–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è. –î–ª—è —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–≥–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —á–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç AES (Advanced Encryption Standard) –≤ —Ä–µ–∂–∏–º–∞—Ö CBC –∏–ª–∏ GCM, –∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏‚ÄØ‚Äî HMAC.

* **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** ‚Äì –ú–µ—Ö–∞–Ω–∏–∑–º—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í Android –¥–ª—è —ç—Ç–æ–≥–æ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –±–∏–æ–º–µ—Ç—Ä–∏—è, PIN-–∫–æ–¥—ã, OAuth –∏ –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã.

* **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** ‚Äì –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –∏ API –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö, —Ö—Ä–∞–Ω—è—â–∏—Ö—Å—è –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, EncryptedSharedPreferences, –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö). –°—Ä–µ–¥–∏ –Ω–∏—Ö:

* **EncryptedSharedPreferences** ‚Äì –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞—Ä ¬´–∫–ª—é—á‚Äì–∑–Ω–∞—á–µ–Ω–∏–µ¬ª.

* **EncryptedFile** ‚Äì –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤, —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º –∏–ª–∏ –≤–Ω–µ—à–Ω–µ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, Room —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏).

* **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏**: –ó–∞–ø—Ä–∞—à–∏–≤–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

* **–û–±—Ñ—É—Å–∫–∞—Ü–∏—è –∫–æ–¥–∞**: –°–ª–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è —Ä–µ–≤–µ—Ä—Å-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥–∞ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üîê –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

### –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

|–ö–∞—Ç–µ–≥–æ—Ä–∏—è<br>|–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è|
|---------|------------|
|–®–∏—Ñ—Ä|AES –≤ —Ä–µ–∂–∏–º–µ CBC –∏–ª–∏ GCM —Å 256-–±–∏—Ç–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä,¬†`AES/GCM/NoPadding`¬†).|
|–î–∞–π–¥–∂–µ—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏–π|–°–µ–º–µ–π—Å—Ç–≤–æ SHA-2 (–Ω–∞–ø—Ä–∏–º–µ—Ä,¬†`SHA-256`¬†)|
|–ú–∞–∫|–°–µ–º–µ–π—Å—Ç–≤–æ HMAC SHA-2 (–Ω–∞–ø—Ä–∏–º–µ—Ä,¬†`HMACSHA256`¬†)|
|–ü–æ–¥–ø–∏—Å—å|\|**–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**\|AES –≤ —Ä–µ–∂–∏–º–µ CBC –∏–ª–∏ GCM —Å 256-–±–∏—Ç–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `AES/GCM/NoPadding`)\|<br><br>\|**–•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ/–î–∞–π–¥–∂–µ—Å—Ç**\|–°–µ–º–µ–π—Å—Ç–≤–æ SHA-2 (–Ω–∞–ø—Ä–∏–º–µ—Ä, `SHA-256`)\|<br><br>\|**MAC (–∫–æ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π)**\|HMAC SHA-2 (–Ω–∞–ø—Ä–∏–º–µ—Ä, `HMACSHA256`)\|<br><br>\|**–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ–¥–ø–∏—Å—å**\|SHA-2 —Å ECDSA (–Ω–∞–ø—Ä–∏–º–µ—Ä, `SHA256withECDSA`)\||

### –í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ

![AES.png](../images/AES.png)
![RSA.png](../images/RSA.png)
![hash.png](../images/hash.png)

### –ú–µ—Ä—ã –ø–æ –∑–∞—â–∏—Ç–µ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

* **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**: –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, AES) –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö.

* –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –∏ –¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏.

* –ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —É–¥–µ–ª—è–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç–µ —Å –ø–æ—Ç–æ–∫–∞–º–∏ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞, —á—Ç–æ–±—ã –Ω–µ –¥–æ–ø—É—Å—Ç–∏—Ç—å —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏.

* **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –±–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–ø–µ—á–∞—Ç–æ–∫ –ø–∞–ª—å—Ü–∞ –∏–ª–∏ Face ID) –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º —Å –ø–æ–º–æ—â—å—é API `BiometricPrompt`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∑–∞—â–∏—Ç—ã –ø–µ—Ä–µ–¥ –¥–æ—Å—Ç—É–ø–æ–º –∫ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º.

* **–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞**  
  –ü–æ–º–∏–º–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–æ–¥—É–º–∞–π—Ç–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ç–∞–∫, —á—Ç–æ–±—ã –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ–ª—É—á–∞–ª–∏ —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
1. –®–∏—Ñ—Ä—É–π—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
1. –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Android Keystore –¥–ª—è –∫–ª—é—á–µ–π

![scur.png](../images/scur.png)

## üí°  –ú–µ—Ç–æ–¥—ã –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö –≤ Android

### 1. EncryptedSharedPreferences

* **EncryptedSharedPreferences**  –ü–æ–∑–≤–æ–ª—è—é—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ –ø–∞—Ä ¬´–∫–ª—é—á‚Äì–∑–Ω–∞—á–µ–Ω–∏–µ¬ª, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —à–∏—Ñ—Ä—É—è –∏—Ö —Å –ø–æ–º–æ—â—å—é –∑–∞–¥–∞–Ω–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤. –≠—Ç–æ —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤, –ø–∞—Ä–æ–ª–µ–π –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫.

````kotlin
@Composable
fun SecurePreferencesExample() {
    val context = LocalContext.current
    val masterKey = MasterKey.Builder(context)
        .setKeyScheme(MasterKey.KeyScheme.AES256_GCM)
        .build()

    val encryptedPrefs = EncryptedSharedPreferences.create(
        context,
        "secure_prefs",
        masterKey,
        EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,
        EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM
    )

    var secretText by remember { mutableStateOf("") }

    Column(modifier = Modifier.padding(16.dp)) {
        OutlinedTextField(
            value = secretText,
            onValueChange = { secretText = it },
            label = { Text("–°–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ") }
        )

        Button(onClick = {
            encryptedPrefs.edit()
                .putString("secret_key", secretText)
                .apply()
        }) {
            Text("–°–æ—Ö—Ä–∞–Ω–∏—Ç—å")
        }
    }
}
````

### 2. EncryptedFile

**EncryptedFile**  
–ü–æ–∑–≤–æ–ª—è–µ—Ç —à–∏—Ñ—Ä–æ–≤–∞—Ç—å –∏ –¥–µ—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–∞–¥–µ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, AES256_GCM_HKDF_4KB). –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∑–∞—â–∏—Ç—ã –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –ª–æ–≥–æ–≤ –∏–ª–∏ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤.

````kotlin
fun saveSecureFile(context: Context, data: String) {
    val masterKey = MasterKey.Builder(context)
        .setKeyScheme(MasterKey.KeyScheme.AES256_GCM)
        .build()

    val file = File(context.filesDir, "secret.txt")
    val encryptedFile = EncryptedFile.Builder(
        context,
        file,
        masterKey,
        EncryptedFile.FileEncryptionScheme.AES256_GCM_HKDF_4KB
    ).build()

    encryptedFile.openFileOutput().use { output ->
        output.write(data.toByteArray())
    }
}
````

### 3. –ë–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**  
–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –±–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤ (–æ—Ç–ø–µ—á–∞—Ç–æ–∫ –ø–∞–ª—å—Ü–∞, —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∏—Ü–∞) –∏ OAuth –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º.\*\*\*\*

````kotlin
@Composable
fun BiometricAuthExample() {
    val context = LocalContext.current
    val biometricPrompt = BiometricPrompt(
        context as FragmentActivity(),
        object : BiometricPrompt.AuthenticationCallback() {
            override fun onAuthenticationSucceeded(result: BiometricPrompt.AuthenticationResult) {
                // –î–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à–µ–Ω
            }
        }
    )

    Button(onClick = {
        val promptInfo = BiometricPrompt.PromptInfo.Builder()
            .setTitle("–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è")
            .setSubtitle("–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–æ–º–µ—Ç—Ä–∏—é –¥–ª—è –¥–æ—Å—Ç—É–ø–∞")
            .setNegativeButtonText("–û—Ç–º–µ–Ω–∞")
            .build()
        biometricPrompt.authenticate(promptInfo)
    }) {
        Text("–í–æ–π—Ç–∏ —Å –±–∏–æ–º–µ—Ç—Ä–∏–µ–π")
    }
}
````

* **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö**  
  Room –∏ SQLite –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è, —á—Ç–æ–±—ã –∑–∞—â–∏—Ç–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

## üöÄ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
* –ë–µ–∑–æ–ø–∞—Å–Ω–æ —Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
* –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ —Å–æ–ª—å –¥–ª—è —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
* –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∫–ª—é—á–∏

### 2. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–Ω–æ–≥–æ—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
* –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –±–∏–æ–º–µ—Ç—Ä–∏—é –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–∫–µ–Ω—ã —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏

### 3. –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ EncryptedSharedPreferences –¥–ª—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
* –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ EncryptedFile –¥–ª—è —Ñ–∞–π–ª–æ–≤
* –®–∏—Ñ—Ä—É–π—Ç–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
* –û—á–∏—â–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ

## üõ°Ô∏è –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä

![CodeSec.png](../images/CodeSec.png)
–î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Jetpack Security.**\*\* –≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ —Å EncryptedFile.

#### **–°–æ–∑–¥–∞–µ–º –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á**

````kotlin
val masterKey = MasterKey.Builder(context)
    .setKeyScheme(MasterKey.KeyScheme.AES256_GCM)
    .build()
````

#### **–°–æ–∑–¥–∞–µ–º –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª**

````kotlin
val file = File(context.filesDir, "secret_data.txt")

val encryptedFile = EncryptedFile.Builder(
    context,
    file,
    masterKey,
    EncryptedFile.FileEncryptionScheme.AES256_GCM_HKDF_4KB
).build()
````

#### **–®–∏—Ñ—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ**

````kotlin
encryptedFile.openFileOutput().bufferedWriter().use { writer ->
    writer.write("–≠—Ç–æ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!")
}
````

**–†–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ**

````kotlin
val decryptedData = encryptedFile.openFileInput().bufferedReader().use { reader ->
    reader.readText()
}

println(decryptedData) // –í—ã–≤–æ–¥: "–≠—Ç–æ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!"
````

**1.MasterKey: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è.**

**2.EncryptedFile: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏.**

**3.BufferedWriter/BufferedReader: –î–ª—è –∑–∞–ø–∏—Å–∏ –∏ —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.**

**–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞:**

**‚Ä¢FileEncryptionScheme: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ö–µ–º—É —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (AES256_GCM_HKDF_4KB).**

**‚Ä¢KeyScheme: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ö–µ–º—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–∞ (AES256_GCM).**

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

### –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

````kotlin
val masterKey = MasterKey.Builder(context)
    .setKeyScheme(MasterKey.KeyScheme.AES256_GCM)
    .build()

val encryptedSharedPreferences = EncryptedSharedPreferences.create(
    context,
    "secret_settings",
    masterKey,
    EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,
    EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM
)
````

![Seec.png](../images/Seec.png)

![BestSec.png](../images/BestSec.png)\## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
*   OWASP Mobile Security Project: [https://owasp.org/www-project-mobile-security/](https://owasp.org/www-project-mobile-security/)
*   –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Android –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: [https://developer.android.com/training/articles/security-tips](https://developer.android.com/training/articles/security-tips)

  **–°—Ç–∞—Ç—å–∏ –∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Android.**

* [Android Security Best Practices](https://developer.android.com/topic/security/best-practices)
* [Jetpack Security](https://developer.android.com/topic/security/data)
* [Encryption on Android](https://developer.android.com/guide/topics/security/cryptography)
* [Biometric Authentication](https://developer.android.com/training/sign-in/biometric-auth)

## üé• –í–∏–¥–µ–æ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

[![Watch the video](https://img.youtube.com/vi/JCBVDAXamrY/0.jpg)](https://www.youtube.com/watch?v=JCBVDAXamrY&pp=ygUiYW5kcm9pZCDQl9Cw0YnQuNGC0LAg0LTQsNC90L3Ri9GFIA%3D%3D)

[![Watch the video](https://img.youtube.com/vi/XMaQNN9YpKk/0.jpg)](https://www.youtube.com/watch?v=XMaQNN9YpKk&pp=ygUSYW5kcm9pZCBEYXRhIFN0b3Jl)
