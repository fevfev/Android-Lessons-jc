# üíæ SQLite –≤ Android

## üì± –í–≤–µ–¥–µ–Ω–∏–µ

**SQLite** - —ç—Ç–æ –ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤ Android. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SQL.

![ic.png](../../images/ic.png)

## üõ† –û—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å SQLite

### **SQLite:**

* –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SQL.
* –¢—Ä–µ–±—É–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –≤—Ä—É—á–Ω—É—é.

–û–¥–Ω–∏–º –∏–∑ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö SQL —è–≤–ª—è–µ—Ç—Å—è —Å—Ö–µ–º–∞: —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö.¬†–°—Ö–µ–º–∞ –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞—Ö SQL, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.¬†–í–æ–∑–º–æ–∂–Ω–æ, –≤–∞–º –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–∞–∫¬†*–∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–π*¬†–∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –Ω–∞–≥–ª—è–¥–Ω–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤–∞—à–µ–π —Å—Ö–µ–º—ã.

–ö–ª–∞—Å—Å-–∫–æ–Ω—Ç—Ä–∞–∫—Ç ‚Äî —ç—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏—Ö –∏–º–µ–Ω–∞ –¥–ª—è URI, —Ç–∞–±–ª–∏—Ü –∏ —Å—Ç–æ–ª–±—Ü–æ–≤.¬†–ö–ª–∞—Å—Å-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤–æ –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö –∫–ª–∞—Å—Å–∞—Ö –≤ –æ–¥–Ω–æ–º –ø–∞–∫–µ—Ç–µ.¬†–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –∏–º—è —Å—Ç–æ–ª–±—Ü–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ –≤—Å–µ–º—É –∫–æ–¥—É.

–•–æ—Ä–æ—à–∏–π —Å–ø–æ—Å–æ–± –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å-–∫–æ–Ω—Ç—Ä–∞–∫—Ç ‚Äî –ø–æ–º–µ—Å—Ç–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–ª—è –≤—Å–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –Ω–∞ –∫–æ—Ä–Ω–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å –∫–ª–∞—Å—Å–∞.¬†–ó–∞—Ç–µ–º —Å–æ–∑–¥–∞–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–ª–∞—Å—Å –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã.¬†–ö–∞–∂–¥—ã–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–ª–∞—Å—Å –ø–µ—Ä–µ—á–∏—Å–ª—è–µ—Ç —Å—Ç–æ–ª–±—Ü—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —Ç–∞–±–ª–∏—Ü—ã.

### –ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å

–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —Ç–∞–±–ª–∏—Ü –∏ —Å—Ç–æ–ª–±—Ü–æ–≤.
–ù–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–º—è —Ç–∞–±–ª–∏—Ü—ã –∏ –∏–º–µ–Ω–∞ —Å—Ç–æ–ª–±—Ü–æ–≤ –¥–ª—è –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–π RSS-–∫–∞–Ω–∞–ª:

````kotlin
object NotesContract {
    object NoteEntry : BaseColumns {
        const val TABLE_NAME = "notes"
        const val COLUMN_TITLE = "title"
        const val COLUMN_CONTENT = "content"
        const val COLUMN_CREATED_AT = "created_at"
    }
}
````

–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –ø–æ–º–æ—â–Ω–∏–∫–∞ SQL

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ—Å—å —Å —Ç–µ–º, –∫–∞–∫ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –≤–∞—à–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –≤–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–∞–±–ª–∏—Ü—ã.¬†–í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü:

````kotlin
private const val SQL_CREATE_ENTRIES =
        "CREATE TABLE ${FeedEntry.TABLE_NAME} (" +
                "${BaseColumns._ID} INTEGER PRIMARY KEY," +
                "${FeedEntry.COLUMN_NAME_TITLE} TEXT," +
                "${FeedEntry.COLUMN_NAME_SUBTITLE} TEXT)"

private const val SQL_DELETE_ENTRIES = "DROP TABLE IF EXISTS ${FeedEntry.TABLE_NAME}"
````

–ö–∞–∫ –∏ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç–µ –≤–æ¬†[–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ø–∞–º—è—Ç–∏](https://developer.android.com/guide/topics/data/data-storage#filesInternal)¬†—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, Android —Ö—Ä–∞–Ω–∏—Ç –≤–∞—à—É –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ –ª–∏—á–Ω–æ–π –ø–∞–ø–∫–µ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.¬†–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç—Ç–∞ –æ–±–ª–∞—Å—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–ö–ª–∞—Å—Å¬†
[SQLiteOpenHelper](https://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper)

—Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–µ–∑–Ω—ã–π –Ω–∞–±–æ—Ä API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞—à–µ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.¬†

–ö–æ–≥–¥–∞ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ –Ω–∞ –≤–∞—à—É –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, —Å–∏—Å—Ç–µ–º–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏,¬†*–∞ –Ω–µ –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è*.¬†–í—Å—ë, —á—Ç–æ –≤–∞–º –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, ‚Äî —ç—Ç–æ –≤—ã–∑–≤–∞—Ç—å¬†
[getWritableDatabase()](https://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper#getWritableDatabase())\`
–∏–ª–∏¬†
\[getReadableDatabase()\](https://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper#getReadableDatabase()

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑¬†[ContentValues](https://developer.android.com/reference/android/content/ContentValues)¬†–æ–±—ä–µ–∫—Ç–∞ –ø–æ –º–µ—Ç–æ–¥—É¬†[insert()](https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#insert(java.lang.String,%20java.lang.String,%20android.content.ContentValues)):

````kotlin
val db = dbHelper.writableDatabase


val values = ContentValues().apply {
    put(FeedEntry.COLUMN_NAME_TITLE, title)
    put(FeedEntry.COLUMN_NAME_SUBTITLE, subtitle)
}


val newRowId = db?.insert(FeedEntry.TABLE_NAME, null, values)
````

## –°—á–∏—Ç—ã–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ß—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å —á—Ç–µ–Ω–∏–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥¬†[query()](https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#query(java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String,%20java.lang.String))¬†–∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –µ–º—É –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞ –∏ –Ω—É–∂–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã.¬†–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã¬†[insert()](https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#insert(java.lang.String,%20java.lang.String,%20android.content.ContentValues))¬†–∏¬†[update()](https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#update(java.lang.String,%20android.content.ContentValues,%20java.lang.String,%20java.lang.String[])), –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–æ–≥–æ, —á—Ç–æ —Å–ø–∏—Å–æ–∫ —Å—Ç–æ–ª–±—Ü–æ–≤ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å (¬´–ø—Ä–æ–µ–∫—Ü–∏—é¬ª), –∞ –Ω–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏.¬†–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–∞¬†[Cursor](https://developer.android.com/reference/android/database/Cursor).

````kotlin
val db = dbHelper.readableDatabase

// Define a projection that specifies which columns from the database
// you will actually use after this query.
val projection = arrayOf(BaseColumns._ID, FeedEntry.COLUMN_NAME_TITLE, FeedEntry.COLUMN_NAME_SUBTITLE)

// Filter results WHERE "title" = 'My Title'
val selection = "${FeedEntry.COLUMN_NAME_TITLE} = ?"
val selectionArgs = arrayOf("My Title")

// How you want the results sorted in the resulting Cursor
val sortOrder = "${FeedEntry.COLUMN_NAME_SUBTITLE} DESC"

val cursor = db.query(
        FeedEntry.TABLE_NAME,   // The table to query
        projection,             // The array of columns to return (pass null to get all)
        selection,              // The columns for the WHERE clause
        selectionArgs,          // The values for the WHERE clause
        null,                   // don't group the rows
        null,                   // don't filter by row groups
        sortOrder               // The sort order
)
````

## –£–¥–∞–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã, –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—É¬†[delete()](https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#delete(java.lang.String,%20java.lang.String,%20java.lang.String[]))¬†–∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç —Å—Ç—Ä–æ–∫–∏.¬†–ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤—ã–±–æ—Ä–∞ –¥–ª—è¬†[query()](https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#query(boolean,%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String))¬†–º–µ—Ç–æ–¥–∞.¬†–û–Ω —Ä–∞–∑–¥–µ–ª—è–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –≤—ã–±–æ—Ä–∞ –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ selection –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã selection .¬†–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç–æ–ª–±—Ü—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞, –∞ —Ç–∞–∫–∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã —Å—Ç–æ–ª–±—Ü–æ–≤.¬†–ê—Ä–≥—É–º–µ–Ω—Ç—ã - —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—é.¬†–ü–æ—Å–∫–æ–ª—å–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–µ —Ç–∞–∫, –∫–∞–∫ –æ–±—ã—á–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è SQL, –æ–Ω –Ω–µ–≤–æ—Å–ø—Ä–∏–∏–º—á–∏–≤ –∫ SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏.

````kotlin

val selection = "${FeedEntry.COLUMN_NAME_TITLE} LIKE ?"

val selectionArgs = arrayOf("MyTitle")

val deletedRows = db.delete(FeedEntry.TABLE_NAME, selection, selectionArgs)
````

## üí° –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (Create)

````kotlin
fun addNote(title: String, content: String): Long {
    val db = dbHelper.writableDatabase

    val values = ContentValues().apply {
        put(NoteEntry.COLUMN_TITLE, title)
        put(NoteEntry.COLUMN_CONTENT, content)
        put(NoteEntry.COLUMN_CREATED_AT, System.currentTimeMillis())
    }

    return db.insert(NoteEntry.TABLE_NAME, null, values)
}
````

### –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (Read)

````kotlin
fun getNotes(): List<Note> {
    val db = dbHelper.readableDatabase

    val projection = arrayOf(
        BaseColumns._ID,
        NoteEntry.COLUMN_TITLE,
        NoteEntry.COLUMN_CONTENT,
        NoteEntry.COLUMN_CREATED_AT
    )

    val cursor = db.query(
        NoteEntry.TABLE_NAME,
        projection,
        null,
        null,
        null,
        null,
        "${NoteEntry.COLUMN_CREATED_AT} DESC"
    )

    val notes = mutableListOf<Note>()
    
    with(cursor) {
        while (moveToNext()) {
            val note = Note(
                id = getLong(getColumnIndexOrThrow(BaseColumns._ID)),
                title = getString(getColumnIndexOrThrow(NoteEntry.COLUMN_TITLE)),
                content = getString(getColumnIndexOrThrow(NoteEntry.COLUMN_CONTENT)),
                createdAt = getLong(getColumnIndexOrThrow(NoteEntry.COLUMN_CREATED_AT))
            )
            notes.add(note)
        }
    }
    cursor.close()
    
    return notes
}
````

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (Update)

````kotlin
fun updateNote(id: Long, title: String, content: String): Int {
    val db = dbHelper.writableDatabase

    val values = ContentValues().apply {
        put(NoteEntry.COLUMN_TITLE, title)
        put(NoteEntry.COLUMN_CONTENT, content)
    }

    val selection = "${BaseColumns._ID} = ?"
    val selectionArgs = arrayOf(id.toString())

    return db.update(
        NoteEntry.TABLE_NAME,
        values,
        selection,
        selectionArgs
    )
}
````

### –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (Delete)

````kotlin
fun deleteNote(id: Long): Int {
    val db = dbHelper.writableDatabase

    val selection = "${BaseColumns._ID} = ?"
    val selectionArgs = arrayOf(id.toString())

    return db.delete(
        NoteEntry.TABLE_NAME,
        selection,
        selectionArgs
    )
}
````

## üì± –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫

### –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

````kotlin
data class Note(
    val id: Long = 0,
    val title: String,
    val content: String,
    val createdAt: Long = System.currentTimeMillis()
)
````

### UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

````kotlin
@Composable
fun NotesList(
    notes: List<Note>,
    onNoteClick: (Note) -> Unit,
    onDeleteClick: (Note) -> Unit
) {
    LazyColumn {
        items(notes) { note ->
            NoteItem(
                note = note,
                onClick = { onNoteClick(note) },
                onDeleteClick = { onDeleteClick(note) }
            )
        }
    }
}

@Composable
fun NoteItem(
    note: Note,
    onClick: () -> Unit,
    onDeleteClick: () -> Unit
) {
    Card(
        modifier = Modifier
            .fillMaxWidth()
            .padding(8.dp)
            .clickable(onClick = onClick)
    ) {
        Column(
            modifier = Modifier.padding(16.dp)
        ) {
            Row(
                modifier = Modifier.fillMaxWidth(),
                horizontalArrangement = Arrangement.SpaceBetween,
                verticalAlignment = Alignment.CenterVertically
            ) {
                Text(
                    text = note.title,
                    style = MaterialTheme.typography.titleMedium
                )
                IconButton(onClick = onDeleteClick) {
                    Icon(Icons.Default.Delete, "–£–¥–∞–ª–∏—Ç—å")
                }
            }
            Text(
                text = note.content,
                style = MaterialTheme.typography.bodyMedium,
                maxLines = 2,
                overflow = TextOverflow.Ellipsis
            )
        }
    }
}
````

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
1. –ó–∞–∫—Ä—ã–≤–∞–π—Ç–µ –∫—É—Ä—Å–æ—Ä—ã –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤
1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ —É–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
1. –ò–∑–±–µ–≥–∞–π—Ç–µ SQL-–∏–Ω—ä–µ–∫—Ü–∏–π
1. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

* [SQLite Documentation](https://www.sqlite.org/docs.html)
* [Android SQLite Guide](https://developer.android.com/training/data-storage/sqlite)
* [SQL Tutorial](https://www.w3schools.com/sql/)
* [Database Best Practices](https://developer.android.com/topic/performance/sqlite)

## üé• –í–∏–¥–µ–æ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

[![Watch the video](https://img.youtube.com/vi/hJPk50p7xwA/0.jpg)](https://www.youtube.com/watch?v=hJPk50p7xwA&list=PLSrm9z4zp4mGK0g_0_jxYGgg3os9tqRUQ)
