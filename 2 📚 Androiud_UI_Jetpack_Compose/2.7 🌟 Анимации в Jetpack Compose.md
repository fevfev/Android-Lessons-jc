# üåü –ê–Ω–∏–º–∞—Ü–∏–∏ –≤ Jetpack Compose

## üì± –í–≤–µ–¥–µ–Ω–∏–µ

–ê–Ω–∏–º–∞—Ü–∏–∏ –≤ Jetpack Compose - —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–≤–Ω—ã—Ö –∏ –æ—Ç–∑—ã–≤—á–∏–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤. –û–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ UI –∏ –¥–µ–ª–∞—é—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–æ–ª–µ–µ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º.

–í Jetpack Compose –∞–Ω–∏–º–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–Ω–æ–≥–æ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –û–Ω–∏ –º–æ–≥—É—Ç –≤–∫–ª—é—á–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤, —Ü–≤–µ—Ç–∞, –ø–æ–ª–æ–∂–µ–Ω–∏—è –∏ –¥—Ä—É–≥–∏—Ö —Å–≤–æ–π—Å—Ç–≤ UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

## üéØ –¢–∏–ø—ã –∞–Ω–∏–º–∞—Ü–∏–π

### 1. –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏

* AnimatedVisibility
* AnimatedContent
* Crossfade
* animateContentSize

### 2. –ê–Ω–∏–º–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π

* animate\*AsState
* updateTransition
* rememberInfiniteTransition

### 3. –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏

* Animatable
* Animation specs
* Custom animations

## üí´ –û—Å–Ω–æ–≤–Ω—ã–µ API –∞–Ω–∏–º–∞—Ü–∏–π

Compose –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–µ API, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–µ—à–∞—Ç—å –º–Ω–æ–≥–∏–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø–æ –∞–Ω–∏–º–∞—Ü–∏–∏.¬†
[AnimationQuickGuide.kt](https://github.com/android/snippets/blob/a7117c0da26b85a9e005d700a7ae9dec859bb8bd/compose/snippets/src/main/java/com/example/compose/snippets/animations/AnimationQuickGuide.kt#L132-L147)

### AnimationSpec

* –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–∏ (–≤—Ä–µ–º—è, —É—Å–∫–æ—Ä–µ–Ω–∏–µ –∏ —Ç.–¥.):

````kotlin
val animationSpec = tween(durationMillis = 1000, easing = LinearEasing)

````

–î–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è –∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤:

````kotlin
@Composable
fun AnimatedVisibilityExample() {
    var visible by remember { mutableStateOf(true) }
    
    Column {
        Button(onClick = { visible = !visible }) {
            Text("–ü–æ–∫–∞–∑–∞—Ç—å/–°–∫—Ä—ã—Ç—å")
        }
        AnimatedVisibility(visible = visible) {
            Text("–≠—Ç–æ—Ç —Ç–µ–∫—Å—Ç –∞–Ω–∏–º–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–∏")
        }
    }
}
````

–î—Ä—É–≥–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –∞–Ω–∏–º–∞—Ü–∏–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ ‚Äî –∞–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª —Å —Ç–µ—á–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –ø–æ–º–æ—â—å—é¬†[`animateFloatAsState`](https://developer.android.com/develop/ui/compose/animation/value-based#animate-as-state):
![animated_visibility_alpha.gif](..\animated_visibility_alpha.gif)

````kotlin
var visible by remember {
    mutableStateOf(true)
}
val animatedAlpha by animateFloatAsState(
    targetValue = if (visible) 1.0f else 0f,
    label = "alpha"
)
Box(
    modifier = Modifier
        .size(200.dp)
        **.graphicsLayer {**
            **alpha = animatedAlpha**
        **}**
        .clip(RoundedCornerShape(8.dp))
        .background(colorGreen)
        .align(Alignment.TopCenter)
) {
}
````

**–î–æ–±–∞–≤—å**
–ü—Ä–∏–º–µ—Ä –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤:

````kotlin
var visible by remember { mutableStateOf(true) }

AnimatedVisibility(
    visible = visible,
    enter = fadeIn() + slideInHorizontally(),
    exit = fadeOut() + slideOutHorizontally()
) {
    Text("–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç")
}
````

### animate\*AsState

–î–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π:

````kotlin
var boxSize by remember { mutableStateOf(100.dp) }
val size by animateDpAsState(
    targetValue = boxSize,
    animationSpec = spring(
        dampingRatio = Spring.DampingRatioMediumBouncy,
        stiffness = Spring.StiffnessLow
    )
)

Box(
    modifier = Modifier
        .size(size)
        .background(MaterialTheme.colorScheme.primary)
        .clickable { boxSize = if (boxSize == 100.dp) 200.dp else 100.dp }
)
````

````kotlin
@Composable
fun AnimateColorExample() {
    var isDark by remember { mutableStateOf(false) }
    val color by animateColorAsState(if (isDark) Color.Black else Color.White)

    Button(
        onClick = { isDark = !isDark },
        colors = ButtonDefaults.buttonColors(backgroundColor = color)
    ) {
        Text(text = "–ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç")
    }
}
````

### –ê–Ω–∏–º–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ —Ñ–æ–Ω–∞

![animated_forever.gif](../images/animated_forever.gif)

````kotlin
val animatedColor by animateColorAsState(
    if (animateBackgroundColor) colorGreen else colorBlue,
    label = "—Ü–≤–µ—Ç"
)
Column(
    modifier = Modifier.drawBehind {
        drawRect(animatedColor)
    }
) {
    // –≤–∞—à –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–¥–µ—Å—å
}
````

### –ê–Ω–∏–º–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞

![animated_content_size.gif](../images/animated_content_size.gif)
Compose –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏.¬†–ù–∞–ø—Ä–∏–º–µ—Ä¬†**animateContentSize**()¬†–¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –º–µ–∂–¥—É –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ —Ä–∞–∑–º–µ—Ä–∞ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–µ —Å —Ç–µ–∫—Å—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Ä–∞—Å—à–∏—Ä—è—Ç—å—Å—è —Å –æ–¥–Ω–æ–π –¥–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–æ–∫, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å¬†`Modifier.animateContentSize()`¬†–¥–ª—è –±–æ–ª–µ–µ –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞:

````kotlin
var —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å –ø–æ–º–æ—â—å—é –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è { –∏–∑–º–µ–Ω—è–µ–º–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è(false) }
–ë–ª–æ–∫(
    –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä = –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä
        .—Ñ–æ–Ω(—Ü–≤–µ—Ç–°–∏–Ω–∏–π)
        **.animateContentSize()**
        .height(if (expanded) 400.dp else 200.dp)
        .fillMaxWidth()
        .clickable(
            interactionSource = remember { MutableInteractionSource() },
            indication = null
        ) {
            expanded = !expanded
        }

) {
}
````

### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è –ê–Ω–∏–º–∞—Ü–∏–π

* –ê–Ω–∏–º–∞—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤ —á–µ—Ä–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã:

````kotlin
Modifier
    .animateContentSize()
    .animateSize()
    .animateOffset()
````

**–û—Å–Ω–æ–≤–Ω—ã–µ:**

* animateContentSize –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:

````kotlin
Modifier.animateContentSize()
````

* animateOffset –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ—â–µ–Ω–∏—è:

````kotlin
Modifier.animateOffset()
````

* graphicsLayer –¥–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π, –∫–∞–∫ –≤—Ä–∞—â–µ–Ω–∏–µ:

````kotlin
Modifier.graphicsLayer {
    rotationZ = 45f
}
````

## –ü—Ä–æ—Å—Ç–∞—è –∞–Ω–∏–º–∞—Ü–∏—è

![Animation_es.gif](../images/Animation_es.gif)
**animate\*AsState**

* **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è:**

### ![RedGreen.gif](../images/RedGreen.gif)–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ animate\*AsState –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ animateColorAsState:

````kotlin
val color by animateColorAsState(if (isClicked) Color.Red else Color.Green)

````

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ animate\*AsState –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ animateDpAsState:![AnimateSizeExample.gif](../images/AnimateSizeExample.gif)

````kotlin


@Composable
fun AnimateSizeExample() {
    var size by remember { mutableStateOf(100.dp) }
    val animatedSize by animateDpAsState(
        targetValue = size,
        animationSpec = tween(durationMillis = 1000)
    )

    Column {
        Button(onClick = { size = if (size == 100.dp) 200.dp else 100.dp }) {
            Text("–ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä")
        }
        Box(Modifier.size(animatedSize).background(Color.Blue))
    }
}
````

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AnimatedVisibility

* **–î–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è –∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤:**
  ![AnimatedVisibilityExample.gif](../images/AnimatedVisibilityExample.gif)

````kotlin
fun AnimatedVisibilityExample() {  
    var visible by remember { mutableStateOf(true) }  
  
    Column () {  
        Text(" ")  
        Spacer(modifier = Modifier.height(160.dp))  
  
        Button(onClick = { visible = !visible }) {  
            Text("–ü–æ–∫–∞–∑–∞—Ç—å/–°–∫—Ä—ã—Ç—å")  
        }  
        AnimatedVisibility(visible = visible) {  
            Text("–≠—Ç–æ—Ç —Ç–µ–∫—Å—Ç –∞–Ω–∏–º–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–∏")  
        }  
    }}
````

![Transition.gif](../images/Transition.gif)

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ (Transition):

````kotlin

val transition = updateTransition(targetState = isExpanded)
val size by transition.animateDp { state ->
    if (state) 200.dp else 100.dp
}
Box(Modifier.size(size))

````

### –°–ª–æ–∂–Ω—ã–µ –ê–Ω–∏–º–∞—Ü–∏–∏

–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –ê–Ω–∏–º–∞—Ü–∏–∏

![SequenceAnimationExample.gif](../images/SequenceAnimationExample.gif)

* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ animate\*AsState –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π:

````kotlin
@Composable  
fun SequenceAnimationExample() {  
    var size by remember { mutableStateOf(100.dp) }  
    val animatedSize by animateDpAsState(  
        targetValue = size,  
        animationSpec = keyframes {  
            durationMillis = 3000  
            100.dp at 0 using LinearEasing // –ù–∞—á–∏–Ω–∞–µ–º —Å 100.dp  
            200.dp at 1500 using FastOutSlowInEasing // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ 200.dp —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫—É–Ω–¥—ã  
            150.dp at 3000 using LinearEasing // –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ–º –Ω–∞ 150.dp  
        }  
    )  
  
    Column {  
        Button(onClick = { size = if (size == 100.dp) 200.dp else 100.dp }) {  
            Text("–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å")  
        }  
        Box(Modifier.size(animatedSize).background(Color.Blue))  
    }  
}
````

### –ê–Ω–∏–º–∞—Ü–∏–∏ —Å –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏

![TransitionAnimationExample.gif](../images/TransitionAnimationExample.gif)

* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AnimatedContent –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏:

````kotlin
@Composable
fun TransitionAnimationExample() {
    var showDetails by remember { mutableStateOf(false) }
    val transition = updateTransition(showDetails)

    Column {
        Button(onClick = { showDetails = !showDetails }) {
            Text("–ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏")
        }
        transition.AnimatedContent {
            if (it) {
                Text("–î–µ—Ç–∞–ª–∏: –º–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞")
            } else {
                Text("–ö—Ä–∞—Ç–∫–æ")
            }
        }
    }
}
````

### Keyframes –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤:

````kotlin

val offset by animateDpAsState(
    targetValue = 100.dp,
    animationSpec = keyframes {
        durationMillis = 1000
        50.dp at 200
        150.dp at 500
    }
)
Box(Modifier.offset(y = offset))


````

### –ñ–µ—Å—Ç—ã –∏ –∞–Ω–∏–º–∞—Ü–∏—è —Å draggable:

````kotlin

@Composable  
fun DraggableAnimationExample() {  
    val offsetX = remember { Animatable(0f) }  
    Box(  
        Modifier  
            .offset { IntOffset(offsetX.value.roundToInt(), 0) }  
            .draggable(  
                orientation = Orientation.Horizontal,  
                state = rememberDraggableState { delta ->  
                    CoroutineScope(Dispatchers.Main).launch {  
                        offsetX.snapTo(offsetX.value + delta)  
                    }  
                }            )  
    )  
  
}


````

### –ê–Ω–∏–º–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ (AnimatedContent):

````kotlin

AnimatedContent(targetState = counter) { target ->
    Text("Count: $target")
}

````

## –ê–Ω–∏–º–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

![click.gif](../images/click.gif)

````kotlin
@Composable
private fun AnimatableSample() {
    var isAnimated by remember { mutableStateOf(false) }

    val color = remember { Animatable(Color.DarkGray) }

    // animate to green/red based on `button click`
    LaunchedEffect(isAnimated) {
        color.animateTo(if (isAnimated) Color.Green else Color.Red, animationSpec = tween(2000))
    }

    Box(
        Modifier
            .fillMaxWidth()
            .fillMaxHeight(0.8f)
            .background(color.value)
    )
    Button(
        onClick = { isAnimated = !isAnimated },
        modifier = Modifier.padding(top = 10.dp)
    ) {
        Text(text = "Animate Color")
    }
}
````

## –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞:

![jetpack-compose-scale-animation.gif](../images/jetpack-compose-scale-animation.gif)

````kotlin
@Composable
fun CircleImage(imageSize: Dp) {
    Image(
        painter = painterResource(R.drawable.andy_rubin),
        contentDescription = "Circle Image",
        contentScale = ContentScale.Crop,  
        modifier = Modifier
            .size(imageSize)
            .clip(CircleShape) 
            .border(5.dp, Color.Gray, CircleShape) 
    )
}

@Composable
private fun AnimateDpAsState() {
    val isNeedExpansion = rememberSaveable{ mutableStateOf(false) }
    
    val animatedSizeDp: Dp by animateDpAsState(targetValue = if (isNeedExpansion.value) 350.dp else 100.dp)

    Column(horizontalAlignment = Alignment.CenterHorizontally) {
        CircleImage(animatedSizeDp)
        Button(
            onClick = { 
            isNeedExpansion.value = !isNeedExpansion.value 
            },
            modifier = Modifier
                .padding(top = 50.dp)
                .width(300.dp)
        ) {
            Text(text = "animateDpAsState")
        }
    }
}
````

## üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LaunchedEffect

````kotlin
@Composable  
fun Timer() {  
    var time by remember { mutableIntStateOf(0) }  
    LaunchedEffect(Unit) {  
        while (true) {  
            delay(1000)  
            time++  
        }  
    }  
    Text("Time: $time")  
}

````

### –†–∞–±–æ—Ç–∞ —Å Flow

![Timer.png](../images/Timer.png)

````kotlin
@Composable
fun FlowExample(flow: Flow<Int>) {
    val value by flow.collectAsState(initial = 0)
    Text("Flow value: $value")
}


````

## üé® –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∞–Ω–∏–º–∞—Ü–∏–π

### 1. Spring (–ü—Ä—É–∂–∏–Ω–∞)

````kotlin
spring(
    dampingRatio = Spring.DampingRatioMediumBouncy,
    stiffness = Spring.StiffnessLow
)
````

### 2. Tween (–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è)

````kotlin
tween(
    durationMillis = 300,
    delayMillis = 50,
    easing = FastOutSlowInEasing
)
````

### 3. Keyframes (–ö–ª—é—á–µ–≤—ã–µ –∫–∞–¥—Ä—ã)

````kotlin
keyframes {
    durationMillis = 1000
    0.5f at 100
    0.8f at 500
    1f at 1000
}
````

## üì± –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

–†–∞–Ω–µ–µ –≤ —Ä–∞–∑–¥–µ–ª–µ JetpackCompose –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ø–æ–ø—Ä–∞–∫—Ç–∏–∫—É–µ–º—Å—è —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–∏.

### ![AnimatedButton.gif](../images/AnimatedButton.gif)

–ö–Ω–æ–ø–∫–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π

````kotlin
var expanded by remember { mutableStateOf(false) }
Box(modifier = Modifier.fillMaxSize()) {
    AnimatedVisibility(expanded) {
        Card(modifier = Modifier.padding(16.dp)) {
            Text("–°–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç", modifier = Modifier.padding(16.dp))
        }
    }
    FloatingActionButton(
        onClick = { expanded = !expanded },
        modifier = Modifier.align(Alignment.BottomEnd)
    ) {
        Icon(Icons.Default.Add, "–ü–æ–∫–∞–∑–∞—Ç—å")
    }
}

````

### ![–∫–Ω–æ–ø–∫–∞-—Å-ripple.gif](../images/%D0%BA%D0%BD%D0%BE%D0%BF%D0%BA%D0%B0-%D1%81-ripple.gif)

**–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Å ripple —ç—Ñ—Ñ–µ–∫—Ç–æ–º**

````kotlin
@Composable  
fun AnimatedButton(  
    onClick: () -> Unit,  
    content: @Composable () -> Unit  
) {  
    var pressed by remember { mutableStateOf(false) }  
    val scale by animateFloatAsState(  
        targetValue = if (pressed) 0.95f else 1f,  
        animationSpec = spring(dampingRatio = Spring.DampingRatioMediumBouncy)  
    )  
  
    Surface(  
        modifier = Modifier  
            .scale(scale)  
            .clickable(  
                interactionSource = remember { MutableInteractionSource() },  
                indication = rememberRipple(),  
                onClick = {  
                    pressed = true  
                    onClick()  
                }  
            )  
            .pointerInput(Unit) {  
                detectTapGestures(onPress = {  
                    pressed = true  
                    tryAwaitRelease()  
                    pressed = false  
                })  
            },  
        shape = RoundedCornerShape(8.dp),  
        color = MaterialTheme.colorScheme.primary  
    ) {  
        Box(  
            modifier = Modifier.padding(16.dp),  
            contentAlignment = Alignment.Center  
        ) {  
            content()  
        }  
    }}
````

### ![–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è-–∫–∞—Ä—Ç–æ—á–∫–∞-—Å-—Ä–∞—Å–∫—Ä—ã—Ç–∏–µ–º.gif](../images/%D0%90%D0%BD%D0%B8%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%B0%D1%8F-%D0%BA%D0%B0%D1%80%D1%82%D0%BE%D1%87%D0%BA%D0%B0-%D1%81-%D1%80%D0%B0%D1%81%D0%BA%D1%80%D1%8B%D1%82%D0%B8%D0%B5%D0%BC.gif)–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ–º

````kotlin
@Composable
fun ExpandableCard(
    title: String,
    content: String
) {
    var expanded by remember { mutableStateOf(false) }
    val height by animateDpAsState(
        targetValue = if (expanded) 200.dp else 80.dp
    )

    Card(
        modifier = Modifier
            .fillMaxWidth()
            .height(height)
            .clickable { expanded = !expanded }
            .animateContentSize(),
        elevation = CardDefaults.cardElevation(4.dp)
    ) {
        Column(
            modifier = Modifier.padding(16.dp)
        ) {
            Text(
                text = title,
                style = MaterialTheme.typography.titleLarge
            )
            if (expanded) {
                Spacer(Modifier.height(8.dp))
                Text(
                    text = content,
                    style = MaterialTheme.typography.bodyMedium
                )
            }
        }
    }
}
````

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –í—ã–±–æ—Ä —Ç–∏–ø–∞ –∞–Ω–∏–º–∞—Ü–∏–∏

–î–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –≤—ã–±–æ—Ä–∞ –ø–æ–¥—Ö–æ–¥—è—â–µ–π –∞–Ω–∏–º–∞—Ü–∏–∏ –Ω–∞ –¥–∞–Ω–Ω–æ–π —Å—Ö–µ–º–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–∞—è Google —Å—Ö–µ–º–∞ –≤—ã–±–æ—Ä–∞ –ø–æ–¥—Ö–æ–¥—è—â–µ–π –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
![Animation.png](..\Animation.png)

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–ª–æ–∂–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ LaunchedEffect –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
1. –û—Ç–∫–ª—é—á–∞–π—Ç–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –Ω–∏–∑–∫–æ–º –∑–∞—Ä—è–¥–µ –±–∞—Ç–∞—Ä–µ–∏

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–Ω–∏–º–∞—Ü–∏–π

* [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–ª–∞–≤–Ω—ã–µ –∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ
* [ ] –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–π –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è
* [ ] –£—á—Ç–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
* [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

* [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∞–Ω–∏–º–∞—Ü–∏—è–º](https://developer.android.com/jetpack/compose/animation)
* [–ü—Ä–∏–º–µ—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–π Compose](https://github.com/android/compose-samples)
* [Material Motion System](https://m3.material.io/styles/motion/overview)

## üé• –í–∏–¥–µ–æ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

[![Watch the video](https://img.youtube.com/vi/6ZZDPILtYlA/0.jpg)](https://www.youtube.com/watch?v=6ZZDPILtYlA&pp=ygUZamV0cGFjayBjb21wb3NlIGFuaW1hdGlvbg%3D%3D)

[![Watch the video](https://img.youtube.com/vi/D73-3nDtVBs/0.jpg)](https://www.youtube.com/watch?v=D73-3nDtVBs&list=PL1b73-6UjePBj4063fFyyT0SC1VV7hQq2)
[![Watch the video](https://img.youtube.com/vi/GxL_WD2g6WE/0.jpg)](https://www.youtube.com/watch?v=GxL_WD2g6WE&list=PL1ZHrB4A5N8VftPHz2laWsDJim-X8dwA5)
