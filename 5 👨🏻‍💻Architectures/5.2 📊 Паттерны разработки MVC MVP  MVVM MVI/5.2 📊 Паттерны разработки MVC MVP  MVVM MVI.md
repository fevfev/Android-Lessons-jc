# üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ Android

## üì± –í–≤–µ–¥–µ–Ω–∏–µ

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–º–æ–≥–∞—é—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –¥–µ–ª–∞—è –µ–≥–æ –±–æ–ª–µ–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º, —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–º.

![MVCMVPMVVM.png](..\..\MVCMVPMVVM.png)

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### 1. MVC (Model-View-Controller)

````kotlin
// Model
data class CalculatorModel(
    var firstNumber: Double = 0.0,
    var secondNumber: Double = 0.0
) {
    fun add() = firstNumber + secondNumber
    fun subtract() = firstNumber - secondNumber
    fun multiply() = firstNumber * secondNumber
    fun divide() = if (secondNumber != 0.0) firstNumber / secondNumber else 0.0
}

// View
class CalculatorView : View {
    fun showResult(result: Double) {
        resultTextView.text = result.toString()
    }
    
    fun showError(message: String) {
        Toast.makeText(context, message, Toast.LENGTH_SHORT).show()
    }
}

// Controller
class CalculatorController(
    private val model: CalculatorModel,
    private val view: CalculatorView
) {
    fun onAddClicked() {
        val result = model.add()
        view.showResult(result)
    }
    
    fun onSubtractClicked() {
        val result = model.subtract()
        view.showResult(result)
    }
}
````

### 2. MVP (Model-View-Presenter)

````kotlin
// Contract
interface CalculatorContract {
    interface View {
        fun showResult(result: Double)
        fun showError(message: String)
    }
    
    interface Presenter {
        fun add(first: Double, second: Double)
        fun subtract(first: Double, second: Double)
    }
}

// Presenter
class CalculatorPresenter(
    private val view: CalculatorContract.View,
    private val model: CalculatorModel
) : CalculatorContract.Presenter {
    
    override fun add(first: Double, second: Double) {
        model.firstNumber = first
        model.secondNumber = second
        view.showResult(model.add())
    }
    
    override fun subtract(first: Double, second: Double) {
        model.firstNumber = first
        model.secondNumber = second
        view.showResult(model.subtract())
    }
}
````

### 3. MVVM (Model-View-ViewModel)

````kotlin
// ViewModel
class CalculatorViewModel : ViewModel() {
    private val model = CalculatorModel()
    
    private val _result = MutableStateFlow<Double>(0.0)
    val result = _result.asStateFlow()
    
    fun add(first: Double, second: Double) {
        model.firstNumber = first
        model.secondNumber = second
        _result.value = model.add()
    }
}

// View (Compose)
@Composable
fun CalculatorScreen(
    viewModel: CalculatorViewModel = viewModel()
) {
    val result by viewModel.result.collectAsState()
    var firstNumber by remember { mutableStateOf("") }
    var secondNumber by remember { mutableStateOf("") }
    
    Column(modifier = Modifier.padding(16.dp)) {
        TextField(
            value = firstNumber,
            onValueChange = { firstNumber = it },
            label = { Text("–ü–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ") }
        )
        
        TextField(
            value = secondNumber,
            onValueChange = { secondNumber = it },
            label = { Text("–í—Ç–æ—Ä–æ–µ —á–∏—Å–ª–æ") }
        )
        
        Button(onClick = {
            viewModel.add(
                firstNumber.toDoubleOrNull() ?: 0.0,
                secondNumber.toDoubleOrNull() ?: 0.0
            )
        }) {
            Text("–°–ª–æ–∂–∏—Ç—å")
        }
        
        Text("–†–µ–∑—É–ª—å—Ç–∞—Ç: $result")
    }
}
````

### 4. MVI (Model-View-Intent)

````kotlin
// State
data class CalculatorState(
    val firstNumber: String = "",
    val secondNumber: String = "",
    val result: Double = 0.0,
    val isLoading: Boolean = false,
    val error: String? = null
)

// Intent
sealed class CalculatorIntent {
    data class NumberChanged(val number: String, val isFirst: Boolean) : CalculatorIntent()
    object Add : CalculatorIntent()
    object Subtract : CalculatorIntent()
}

// ViewModel
class CalculatorViewModel : ViewModel() {
    private val _state = MutableStateFlow(CalculatorState())
    val state = _state.asStateFlow()
    
    fun processIntent(intent: CalculatorIntent) {
        when (intent) {
            is CalculatorIntent.NumberChanged -> {
                if (intent.isFirst) {
                    _state.value = _state.value.copy(firstNumber = intent.number)
                } else {
                    _state.value = _state.value.copy(secondNumber = intent.number)
                }
            }
            is CalculatorIntent.Add -> calculate { first, second -> first + second }
            is CalculatorIntent.Subtract -> calculate { first, second -> first - second }
        }
    }
    
    private fun calculate(operation: (Double, Double) -> Double) {
        val first = _state.value.firstNumber.toDoubleOrNull()
        val second = _state.value.secondNumber.toDoubleOrNull()
        
        if (first != null && second != null) {
            _state.value = _state.value.copy(
                result = operation(first, second),
                error = null
            )
        } else {
            _state.value = _state.value.copy(
                error = "–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —á–∏—Å–ª–∞"
            )
        }
    }
}
````

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

|–ü–∞—Ç—Ç–µ—Ä–Ω|–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞|–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏|–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å|
|-------|------------|----------|------------------|
|MVC|–ü—Ä–æ—Å—Ç–æ—Ç–∞, –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å|–°–º–µ—à–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏|–ú–∞–ª–µ–Ω—å–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è|
|MVP|–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ|–ú–Ω–æ–≥–æ –∫–æ–¥–∞|–°—Ä–µ–¥–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è|
|MVVM|–†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, data binding|–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏|–ë–æ–ª—å—à–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è|
|MVI|–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è|–ú–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞|–°–ª–æ–∂–Ω—ã–µ UI|

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### 1. –í—ã–±–æ—Ä –ø–∞—Ç—Ç–µ—Ä–Ω–∞

* –†–∞–∑–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞
* –°–ª–æ–∂–Ω–æ—Å—Ç—å UI
* –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
* –û–ø—ã—Ç –∫–æ–º–∞–Ω–¥—ã

### 2. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

* Jetpack Compose + MVVM/MVI
* Kotlin Flow
* Dependency Injection
* Clean Architecture

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

* [Android Architecture Components](https://developer.android.com/topic/architecture)
* [Guide to App Architecture](https://developer.android.com/jetpack/guide)
* [MVI Architecture](https://medium.com/swlh/mvi-architecture-with-android-fcde123e3c4a)
* [MVVM Best Practices](https://developer.android.com/topic/architecture/ui-layer/patterns)

## üé• –í–∏–¥–µ–æ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

[![Watch the video](https://img.youtube.com/vi/X85soC5evw0/0.jpg)](https://www.youtube.com/watch?v=X85soC5evw0&pp=ygU9YW5kcm9pZCDQsNGC0YLQtdGA0L3RiyDRgNCw0LfRgNCw0LHQvtGC0LrQuCBNVkMgTVZQICBNVlZNIE1WSQ%3D%3D)

[![Watch the video](https://img.youtube.com/vi/b2z1jvD4VMQ/0.jpg)](https://www.youtube.com/watch?v=b2z1jvD4VMQ&pp=ygU9YW5kcm9pZCDQsNGC0YLQtdGA0L3RiyDRgNCw0LfRgNCw0LHQvtGC0LrQuCBNVkMgTVZQICBNVlZNIE1WSQ%3D%3D)

[![Watch the video](https://img.youtube.com/vi/bv3yKxVDi4A/0.jpg)](https://www.youtube.com/watch?v=bv3yKxVDi4A&pp=ygU40J_QsNGC0YLQtdGA0L3RiyDQv9GA0L7QtdC60YLQuNGA0L7QstCw0L3QuNGPINCyIEFuZHJvaWQ%3D)
