# üî• –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Android

## üì± –í–≤–µ–¥–µ–Ω–∏–µ

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –≤–∞–∂–Ω–∞—è —á–∞—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –ø–æ–º–æ–≥–∞—é—â–∞—è –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

![TestUI.png](../../images/TestUI.png)
–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ—Å–Ω–æ–≤—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–º–æ–≥–∞–µ—Ç –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –Ω–∞ —Ä–∞–Ω–Ω–∏—Ö —ç—Ç–∞–ø–∞—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –∫–æ–¥–∞ –∏ –ø–æ–≤—ã—Å–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥—É–∫—Ç–∞.

* **Unit-—Ç–µ—Å—Ç—ã:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏–ª–∏ –∫–ª–∞—Å—Å–æ–≤ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç Android Framework. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è JUnit, Mockito, MockK.
* **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
* **UI-—Ç–µ—Å—Ç—ã (–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã):** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å –ø–æ–º–æ—â—å—é –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ Espresso, –∞ —Ç–∞–∫–∂–µ Compose Testing –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Jetpack Compose.

## üéØ –í–∏–¥—ã —Ç–µ—Å—Ç–æ–≤

### 1. Unit-—Ç–µ—Å—Ç—ã

* –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
* –ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
* –ù–µ —Ç—Ä–µ–±—É—é—Ç Android-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

* –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
* –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –º–æ–¥—É–ª–µ–π –≤–º–µ—Å—Ç–µ
* –ú–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å —ç–º—É–ª—è—Ç–æ—Ä

### 3. UI-—Ç–µ—Å—Ç—ã

* –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
* –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
* –¢—Ä–µ–±—É—é—Ç Android-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–ª–∏ —ç–º—É–ª—è—Ç–æ—Ä

## üí° Unit-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. JUnit —Ç–µ—Å—Ç—ã

````kotlin
class CalculatorTest {
    private lateinit var calculator: Calculator
    
    @Before
    fun setup() {
        calculator = Calculator()
    }
    
    @Test
    fun addition_isCorrect() {
        val result = calculator.add(2, 2)
        assertEquals(4, result)
    }
    
    @Test
    fun division_byZero_throwsException() {
        assertThrows(IllegalArgumentException::class.java) {
            calculator.divide(10, 0)
        }
    }
}
````

### 2. Mockito/MockK

````kotlin
@Test
fun `fetch users calls api and updates database`() = runTest {
    // Arrange
    val api = mockk<UserApi>()
    val db = mockk<UserDatabase>()
    val repository = UserRepository(api, db)
    
    coEvery { api.getUsers() } returns listOf(User("Test", 25))
    coEvery { db.insertUsers(any()) } just Runs
    
    // Act
    repository.fetchAndSaveUsers()
    
    // Assert
    coVerify { api.getUsers() }
    coVerify { db.insertUsers(any()) }
}
````

## üé® UI-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. Compose —Ç–µ—Å—Ç—ã

````kotlin
class ComposeUITest {
    @get:Rule
    val composeTestRule = createComposeRule()
    
    @Test
    fun userList_displaysUsers() {
        // Arrange
        val users = listOf(
            User("Alice", 25),
            User("Bob", 30)
        )
        
        // Act
        composeTestRule.setContent {
            UserList(users = users)
        }
        
        // Assert
        composeTestRule.onNodeWithText("Alice").assertIsDisplayed()
        composeTestRule.onNodeWithText("Bob").assertIsDisplayed()
    }
    
    @Test
    fun addButton_addsNewUser() {
        composeTestRule.setContent {
            UserScreen()
        }
        
        // Click add button
        composeTestRule.onNodeWithContentDescription("Add user").performClick()
        
        // Verify new user form is displayed
        composeTestRule.onNodeWithText("Add New User").assertIsDisplayed()
    }
}
````

### 2. Espresso —Ç–µ—Å—Ç—ã

````kotlin
@RunWith(AndroidJUnit4::class)
class MainActivityTest {
    @get:Rule
    val activityRule = ActivityScenarioRule(MainActivity::class.java)
    
    @Test
    fun clickButton_opensUserDetails() {
        // Arrange & Act
        onView(withId(R.id.userButton))
            .perform(click())
        
        // Assert
        onView(withId(R.id.userDetailsTitle))
            .check(matches(isDisplayed()))
    }
}
````

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. Repository —Ç–µ—Å—Ç—ã

````kotlin
@RunWith(AndroidJUnit4::class)
class UserRepositoryTest {
    private lateinit var database: UserDatabase
    private lateinit var repository: UserRepository
    
    @Before
    fun setup() {
        val context = ApplicationProvider.getApplicationContext<Context>()
        database = Room.inMemoryDatabaseBuilder(
            context,
            UserDatabase::class.java
        ).build()
        repository = UserRepository(database.userDao())
    }
    
    @Test
    fun insertAndGetUser() = runBlocking {
        // Arrange
        val user = User("Test", 25)
        
        // Act
        repository.insertUser(user)
        val result = repository.getUser(user.id)
        
        // Assert
        assertEquals(user, result)
    }
    
    @After
    fun cleanup() {
        database.close()
    }
}
````

## ‚ö†Ô∏è –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤

* –°–ª–µ–¥—É–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—É AAA (Arrange, Act, Assert)
* –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ–≤–æ—Ä—è—â–∏–µ –∏–º–µ–Ω–∞ —Ç–µ—Å—Ç–æ–≤

### 2. –ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤

* –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º
* –û—á–∏—â–∞–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤
* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–∫–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### 3. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ—Å—Ç–æ–≤

* –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Ç–µ—Å—Ç—ã
* –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CI/CD –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

* [Android Testing Guide](https://developer.android.com/training/testing)
* [Compose Testing](https://developer.android.com/jetpack/compose/testing)
* [Espresso Guide](https://developer.android.com/training/testing/espresso)
* [MockK Documentation](https://mockk.io/)

## üé• –í–∏–¥–µ–æ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

[![Watch the video](https://img.youtube.com/vi/58PJAxom2MY/0.jpg)](https://youtu.be/58PJAxom2MY?list=PLIh9yLdjK2YeRLnD-gJyVWIq_w-7OMv8r)

# –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã Android

[![Watch the video](https://img.youtube.com/vi/uWMpdg5wY24/0.jpg)](https://www.youtube.com/watch?v=uWMpdg5wY24&pp=ygUqIyDwn5SlINCi0LXRgdGC0LjRgNC-0LLQsNC90LjQtSDQsiBBbmRyb2lk)

[![Watch the video](https://img.youtube.com/vi/FcC5dJixYtw/0.jpg)](https://www.youtube.com/watch?v=FcC5dJixYtw&pp=ygUqIyDwn5SlINCi0LXRgdGC0LjRgNC-0LLQsNC90LjQtSDQsiBBbmRyb2lk)

![Structur.png](../../images/Structur.png)
![Poveden.png](../../images/Poveden.png)
![Android.png](../../images/Android.png)
