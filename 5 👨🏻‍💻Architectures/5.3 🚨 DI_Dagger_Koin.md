# üö® Dependency Injection —Å Dagger –∏ Koin

## üì± –í–≤–µ–¥–µ–Ω–∏–µ

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø–æ–¥—Ö–æ–¥—ã –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π **(Dependency Injection, DI)** –≤ Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–≤—É—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫: **Dagger (Hilt) –∏ Koin.**

 > *Hilt* ‚Äì –±–∏–±–ª–∏–æ—Ç–µ–∫—É –æ—Ç Google, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç DI –ø—Ä–æ—Å—Ç—ã–º –∏ —É–¥–æ–±–Ω—ã–º –≤ Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. –ß—Ç–æ —Ç–∞–∫–æ–µ Dependency Injection? –≠—Ç–æ —Å–ø–æ—Å–æ–± —Å–¥–µ–ª–∞—Ç—å –≤–∞—à –∫–æ–¥ –±–æ–ª–µ–µ *–º–æ–¥—É–ª—å–Ω—ã–º*, *—Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º* –∏ *–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º*. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –Ω–∞–ø—Ä—è–º—É—é –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç, –º—ã *–≤–Ω–µ–¥—Ä—è–µ–º* —ç—Ç–∏ –æ–±—ä–µ–∫—Ç—ã (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏) –∏–∑–≤–Ω–µ. Hilt –±–µ—Ä–µ—Ç –Ω–∞ —Å–µ–±—è –≤—Å—é "–≥—Ä—è–∑–Ω—É—é —Ä–∞–±–æ—Ç—É" –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —ç—Ç–∏–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏. 
 > 
 > –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç Dagger Hilt –æ—Å—Ç–∞—ë—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º –æ—Ç Google –¥–ª—è DI –≤ Android, –∞ Koin –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ –ª–µ–≥–∫–æ–≤–µ—Å–Ω–æ–µ, —É–¥–æ–±–Ω–æ–µ –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é Kotlin-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ. –û–±–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø–æ–ª—É—á–∏–ª–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ Compose-–ø—Ä–æ–µ–∫—Ç—ã.
 > ![JCAr.png](../../images/JCAr.png)

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### –ß—Ç–æ —Ç–∞–∫–æ–µ DI?

**Dependency Injection** ‚Äì —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –∫–ª–∞—Å—Å—ã –∏–∑–≤–Ω–µ –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏—Ö –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–æ–≤.  –≠—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ *–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è* –æ–±—ä–µ–∫—Ç—É –∏–∑–≤–Ω–µ, –∞ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏–º —Å–∞–º–∏–º.

**–ß—Ç–æ**:
* **–ü–æ–≤—ã—à–∞–µ—Ç –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å:** –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –µ–º—É –Ω—É–∂–Ω–æ.
* **–£–ª—É—á—à–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω—è—Ç—å –º–æ–∫–∞–º–∏ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏.
* **–°–Ω–∏–∂–∞–µ—Ç —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –∑–∞–≤–∏—Å—è—Ç –Ω–∞–ø—Ä—è–º—É—é –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.
*Dependency* (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å) ‚Äì —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–º—É –æ–±—ä–µ–∫—Ç—É –¥–ª—è —Ä–∞–±–æ—Ç—ã. –ù–∞–ø—Ä–∏–º–µ—Ä:

*   `ViewModel` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `Repository`.
*   `Repository` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `ApiService` (Retrofit) –∏ `AppDatabase` (Room).
*   `ApiService` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `OkHttpClient`.


**–ü—Ä–∏–º–µ—Ä (–±–µ–∑ DI):**

```kotlin
class MyViewModel {
    private val repository = TaskRepository() // ViewModel —Å–∞–º —Å–æ–∑–¥–∞–µ—Ç Repository

    // ...
}
```

**–ü—Ä–∏–º–µ—Ä (—Å DI):**

```kotlin
class MyViewModel(private val repository: TaskRepository) { // Repository –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    // ...
}
```

–í–æ –≤—Ç–æ—Ä–æ–º –ø—Ä–∏–º–µ—Ä–µ `MyViewModel` *–Ω–µ –∑–Ω–∞–µ—Ç*, –æ—Ç–∫—É–¥–∞ –±–µ—Ä–µ—Ç—Å—è `repository`. –û–Ω –ø—Ä–æ—Å—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç –µ–≥–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞. –≠—Ç–æ –∏ –µ—Å—Ç—å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω Dependency Injection?**

*   **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** –õ–µ–≥–∫–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ *–º–æ–∫–∏* (mocks) –∏–ª–∏ *—Å—Ç–∞–±—ã* (stubs) –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ unit-—Ç–µ—Å—Ç–∞—Ö `MyViewModel` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä *—Ç–µ—Å—Ç–æ–≤—ã–π* —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Ä–µ–∞–ª—å–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Å–µ—Ç–∏.
*   **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å:** –ö–ª–∞—Å—Å—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –º–µ–Ω–µ–µ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ –Ω–µ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω—è—Ç—å –¥—Ä—É–≥–∏–µ –∫–ª–∞—Å—Å—ã.
*   **–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞:** –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
*   **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å:** –ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º.
*   **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ –æ–±—ä–µ–∫—Ç–æ–≤:** DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, Hilt) –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—Å–æ–∑–¥–∞–≤–∞—Ç—å –∏—Ö, –∫–æ–≥–¥–∞ –æ–Ω–∏ –Ω—É–∂–Ω—ã, –∏ —É–Ω–∏—á—Ç–æ–∂–∞—Ç—å, –∫–æ–≥–¥–∞ –æ–Ω–∏ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã).

## üõ† Dagger/Hilt

**Hilt ‚Äì DI –¥–ª—è Android**

**Hilt** ‚Äì —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ—Ç Google, –∫–æ—Ç–æ—Ä–∞—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ–≤–µ—Ä—Ö Dagger (–µ—â–µ –æ–¥–Ω–æ–π –ø–æ–ø—É–ª—è—Ä–Ω–æ–π DI-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏) –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. **Hilt** —É–ø—Ä–æ—â–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **Dagger**, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–¥–∞.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è Hilt:**

*   **`@HiltAndroidApp`:** –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–æ–π –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–ª–∞—Å—Å `Application`. Hilt –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –±–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç DI –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
*   **`@AndroidEntryPoint`:** –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–æ–π –ø–æ–º–µ—á–∞—é—Ç—Å—è Android-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Activity, Fragment, Service, View, BroadcastReceiver), –≤ –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –≤–Ω–µ–¥—Ä—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. Hilt –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã DI –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ —ç—Ç–∏—Ö –∫–ª–∞—Å—Å–æ–≤.
*   **`@Inject`:** –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–æ–π –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, –ø–æ–ª—è –∏–ª–∏ –º–µ—Ç–æ–¥—ã, –≤ –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –≤–Ω–µ–¥—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
*   **`@Module`:** –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–æ–π –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–æ–±—ä–µ–∫—Ç—ã).
*   **`@Provides`:** –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–æ–π –ø–æ–º–µ—á–∞—é—Ç—Å—è –º–µ—Ç–æ–¥—ã –≤–Ω—É—Ç—Ä–∏ `@Module`, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–±—ä–µ–∫—Ç—ã-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
*   **`@Binds`:** –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è –≤ `@Module`, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–æ–±—â–∞–µ—Ç Hilt, –∫–∞–∫—É—é *—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞* –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. –ë–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞, —á–µ–º `@Provides`, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ —Å–≤—è–∑–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π.
*   **Scopes (–æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏):** –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫ –¥–æ–ª–≥–æ –∂–∏–≤–µ—Ç –æ–±—ä–µ–∫—Ç-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å. –ü—Ä–∏–º–µ—Ä—ã:
    *   **`@Singleton`:**  –û–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.
    *   **`@ActivityScoped`:** –û–±—ä–µ–∫—Ç –∂–∏–≤–µ—Ç, –ø–æ–∫–∞ –∂–∏–≤–∞ Activity.
    *   **`@ViewModelScoped`:** –û–±—ä–µ–∫—Ç –∂–∏–≤–µ—Ç, –ø–æ–∫–∞ –∂–∏–≤–∞ ViewModel.
    *   **`@FragmentScoped`:** –û–±—ä–µ–∫—Ç –∂–∏–≤–µ—Ç, –ø–æ–∫–∞ –∂–∏–≤ Fragment.
*   **Qualifiers (–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã):** –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Hilt:**

–í —Ñ–∞–π–ª–µ `build.gradle` –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è –¥–æ–±–∞–≤—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

````kotlin
// build.gradle (project)
plugins {
    id 'com.google.dagger.hilt.android' version '2.55' apply false
}

// build.gradle (app)
plugins {
    id 'com.google.dagger.hilt.android'
    id 'kotlin-kapt'
}

dependencies {
    implementation "com.google.dagger:hilt-android:2.55"
    kapt "com.google.dagger:hilt-android-compiler:2.55"
    
    // –î–ª—è ViewModel
    implementation 'androidx.hilt:hilt-navigation-compose:1.0.0'
}
````

### 2. –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

**–®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å Application –∏ –ø–æ–º–µ—Ç—å—Ç–µ –µ–≥–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@HiltAndroidApp`:**

```kotlin
// MyApplication.kt
import android.app.Application
import dagger.hilt.android.HiltAndroidApp

@HiltAndroidApp
class MyApplication : Application() {}
```

**–®–∞–≥ 2: –£–∫–∞–∂–∏—Ç–µ `MyApplication` –≤ `AndroidManifest.xml`:**

```xml
<manifest xmlns:android="http://schemas.android.com/apk/res/android" ...>

    <application
        android:name=".MyApplication"
        ...>
        ...
    </application>

</manifest>
```

**–®–∞–≥ 3: –ü–æ–º–µ—Ç—å—Ç–µ Activity, Fragment, Service –∏ –¥—Ä—É–≥–∏–µ Android-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –≤ –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –≤–Ω–µ–¥—Ä—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@AndroidEntryPoint`:**

```kotlin
// MainActivity.kt
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import dagger.hilt.android.AndroidEntryPoint
import ...

@AndroidEntryPoint
class MainActivity : ComponentActivity() {
   //...
}
```

### 3. –ú–æ–¥—É–ª–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–ú–æ–¥—É–ª–∏ Hilt ‚Äì —ç—Ç–æ –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ–±—â–∞—é—Ç Hilt, *–∫–∞–∫* —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –ú–æ–¥—É–ª–∏ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Module` –∏ `@InstallIn`.

*   **`@InstallIn(...)`:**  –£–∫–∞–∑—ã–≤–∞–µ—Ç, –≤ –∫–∞–∫–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ Hilt –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –º–æ–¥—É–ª—å (SingletonComponent, ActivityComponent, ViewModelComponent, ServiceComponent, ViewComponent –∏ —Ç.–¥.).
*   **`@Provides`:**  –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ Hilt –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Å–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, —ç–∫–∑–µ–º–ø–ª—è—Ä—ã Retrofit, Room Database, OkHttpClient).
*    **`@Binds`:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è *–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞* —Å –µ–≥–æ *—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π*.


```kotlin
// AppModule.kt
import android.content.Context
import androidx.room.Room
import com.example.notesapp.AppDatabase 
import com.example.notesapp.TaskRepository 
import dagger.Module
import dagger.Provides
import dagger.hilt.InstallIn
import dagger.hilt.android.qualifiers.ApplicationContext
import dagger.hilt.components.SingletonComponent
import javax.inject.Singleton

@Module
@InstallIn(SingletonComponent::class) // AppModule –¥–æ—Å—Ç—É–ø–µ–Ω –≤–æ –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
object AppModule {

    @Provides
    @Singleton // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–∏–Ω–≥–ª—Ç–æ–Ω–æ–º
    fun provideAppDatabase(@ApplicationContext context: Context): AppDatabase {
        return Room.databaseBuilder(
            context,
            AppDatabase::class.java,
            "notes_database"
        ).fallbackToDestructiveMigration().build() // –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ production!
    }

    @Provides
    fun provideTaskRepository(db: AppDatabase): TaskRepository {
        return TaskRepository(db.noteDao()) // –ü–µ—Ä–µ–¥–∞–µ–º NoteDao –≤ TaskRepository
    }
}
````

*   **`@InstallIn(SingletonComponent::class)`:**  –ú–æ–¥—É–ª—å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤–æ –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (—Ç.–∫. –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `SingletonComponent`).
*   **`@Provides @Singleton fun provideAppDatabase(...)`:**  –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä `AppDatabase`.
    *   **`@Singleton`:**  –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä `AppDatabase`.
    *   **`@ApplicationContext context: Context`:**  Hilt –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç `Context` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
*   **`@Provides fun provideTaskRepository(...)`:** –°–æ–∑–¥–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `TaskRepository`, –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–º—É `NoteDao`.


### 4. ViewModel —Å Hilt
–ß—Ç–æ–±—ã –≤–Ω–µ–¥—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `ViewModel`, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@Inject` –¥–ª—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ `ViewModel` –∏ –ø–æ–º–µ—Ç—å—Ç–µ —Å–∞–º –∫–ª–∞—Å—Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@HiltViewModel`:

```kotlin
// MainViewModel.kt
import androidx.lifecycle.ViewModel
import dagger.hilt.android.lifecycle.HiltViewModel
import javax.inject.Inject
import ...

@HiltViewModel
class MainViewModel @Inject constructor(
    private val repository: TaskRepository
) : ViewModel() {
    // ...
}
```
Hilt –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç `TaskRepository` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ `MainViewModel`.
## üåü Koin

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

````kotlin
dependencies {
    implementation "io.insert-koin:koin-android:4.0.2"
    implementation "io.insert-koin:koin-androidx-compose:4.0.2"
}
````

### 2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π

````kotlin
val appModule = module {
    single { 
        Room.databaseBuilder(
            androidContext(),
            UserDatabase::class.java,
            "user_db"
        ).build() 
    }
    
    single<UserRepository> { 
        UserRepositoryImpl(
            api = get(),
            db = get()
        ) 
    }
    
    viewModel { 
        UserViewModel(
            repository = get(),
            analytics = get()
        ) 
    }
}
````

### 3. –ó–∞–ø—É—Å–∫ Koin

````kotlin
class MyApplication : Application() {
    override fun onCreate() {
        super.onCreate()
        startKoin {
            androidContext(this@MyApplication)
            modules(appModule)
        }
    }
}
````

### 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Compose

````kotlin
@Composable
fun UserScreen(
    viewModel: UserViewModel = koinViewModel()
) {
    val users by viewModel.users.collectAsState()
    
    LazyColumn {
        items(users) { user ->
            UserItem(user)
        }
    }
}
````

## üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Dagger/Hilt –∏ Koin

### Dagger/Hilt

‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

* –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
* –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Google
* –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

* –°–ª–æ–∂–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
* –ö—Ä—É—Ç–∞—è –∫—Ä–∏–≤–∞—è –æ–±—É—á–µ–Ω–∏—è
* –ú–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞

### Koin

‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

* –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
* –ß–∏—Å—Ç—ã–π Kotlin DSL
* –õ–µ–≥–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

* –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
* –ú–µ–Ω—å—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
* –ú–µ–Ω—å—à–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## üìù –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ

### –ó–∞–¥–∞–Ω–∏–µ: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–º–µ—Ç–æ–∫

–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º DI:

* [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å Hilt
* [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å Koin
* [ ] –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Room
1. –°–µ—Ç–µ–≤–æ–π —Å–ª–æ–π Retrofit
1. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
1. ViewModel
1. Compose UI

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

* [ ] –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
* [ ] –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º DI
* [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
* [ ] –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –∫–æ–¥–∞
* [ ] –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

* [Hilt Documentation](https://developer.android.com/training/dependency-injection/hilt-android)
* [Koin Documentation](https://insert-koin.io/)
* [DI Best Practices](https://developer.android.com/training/dependency-injection/manual)
* [Comparing DI Libraries](https://www.raywenderlich.com/18901098-dependency-injection-with-hilt)

## üé• –í–∏–¥–µ–æ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

[![Watch the video](https://img.youtube.com/vi/yGiCNunSVN8/0.jpg)](https://youtu.be/yGiCNunSVN8?list=PLIh9yLdjK2YeRLnD-gJyVWIq_w-7OMv8r)

[![Watch the video](https://img.youtube.com/vi/LfRX7pt1bbQ/0.jpg)](https://youtu.be/LfRX7pt1bbQ?list=PLXtiZNKIobF5E1JgDaisqnVJfbZeUFYkm)

[![Watch the video](https://img.youtube.com/vi/Mn8WwqbndGg/0.jpg)](https://www.youtube.com/watch?v=Mn8WwqbndGg&t=417s&pp=ygUZREkgRGFnZ2VyIEtvaW4g0LIgQW5kcm9pZA%3D%3D)
[![Watch the video](https://img.youtube.com/vi/_qb87PN7jlI/0.jpg)](https://www.youtube.com/watch?v=_qb87PN7jlI&pp=ygUZREkgRGFnZ2VyIEtvaW4g0LIgQW5kcm9pZA%3D%3D)
