# ü§ù –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö API

## 1üì±   –í–≤–µ–¥–µ–Ω–∏–µ –≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö API

* **API (Application Programming Interface)** ‚Äì —ç—Ç–æ –Ω–∞–±–æ—Ä –ø—Ä–∞–≤–∏–ª –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –ø–æ–∑–≤–æ–ª—è—é—â–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º –æ–±—â–∞—Ç—å—Å—è –º–µ–∂–¥—É —Å–æ–±–æ–π. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö API –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–≥–æ–¥–µ, –Ω–æ–≤–æ—Å—Ç—è—Ö, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ —Ç.–¥.) –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

* **–¶–µ–ª—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ API:**

* **–ö–ª—é—á–µ–≤—ã–µ —à–∞–≥–∏:**
  
  * **–í—ã–±–æ—Ä API**: –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, –∫–∞–∫–æ–π API –≤–∞–º –Ω—É–∂–µ–Ω –¥–ª—è –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–≥–æ–¥–∞, –ø–µ—Ä–µ–≤–æ–¥, –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è).
  
  * **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –ú–Ω–æ–≥–∏–µ API —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –∫–ª—é—á–∏ API –∏–ª–∏ —Ç–æ–∫–µ–Ω—ã.
  
  * **–°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤, —Ç–∞–∫–∏–µ –∫–∞–∫ Retrofit –∏–ª–∏ OkHttp.
  
  * **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö:** –ü–∞—Ä—Å–∏–Ω–≥ JSON –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, Gson.
  
  * **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI:** –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Coroutines –∏–ª–∏ Flow.

### 1.1 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–Ω–µ—à–Ω–∏—Ö API –ø–æ–∑–≤–æ–ª—è–µ—Ç:

* **–†–∞—Å—à–∏—Ä—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.** –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–æ–¥–µ, –Ω–æ–≤–æ—Å—Ç—è—Ö –∏–ª–∏ –∫—É—Ä—Å–∞—Ö –≤–∞–ª—é—Ç.
* **–û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏.** –í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏–ª–∏ –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ—Ç —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.
* **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è.** –ù–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç—ë–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã, –∫–∞—Ä—Ç—ã –∏–ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏.

### 1.2 –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã API

* **–ó–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã.** –û–±—ã—á–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É HTTP/HTTPS, –≥–¥–µ –∑–∞–ø—Ä–æ—Å—ã (GET, POST, PUT, DELETE –∏ –¥—Ä.) –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –∞ –æ—Ç–≤–µ—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –∏–ª–∏ XML.

* **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.** –ö–∞–∂–¥–æ–µ API —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π, –≤ –∫–æ—Ç–æ—Ä–æ–π –æ–ø–∏—Å–∞–Ω—ã –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç—ã, –∫–æ–¥—ã –æ—à–∏–±–æ–∫ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

* **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.** –ú–Ω–æ–≥–∏–µ API —Ç—Ä–µ–±—É—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤, API-–∫–ª—é—á–µ–π –∏–ª–∏ OAuth –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º.

* **–†–∞–±–æ—Ç–∞ —Å —Å–µ—Ç—å—é** ‚Äì —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —É–¥–∞–ª—ë–Ω–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–∞–º, –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –∞ —Ç–∞–∫–∂–µ –æ–±–º–µ–Ω –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –º–µ–∂–¥—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏ –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.

* **–ó–∞—á–µ–º –Ω—É–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å —Å–µ—Ç—å—é?**
  
  * –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–æ–≤–æ—Å—Ç–∏, –ø–æ–≥–æ–¥–∞, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö –∏ —Ç.–¥.).
  * –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º).
  * –†–∞—Å—à–∏—Ä—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞ —Å—á—ë—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API.
* **–û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ç—å—é:**

### 2.1 Retrofit

Retrofit ‚Äì —ç—Ç–æ –º–æ—â–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ—Ç Square –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ REST API-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. –û–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç JSON-–æ—Ç–≤–µ—Ç—ã –≤ –æ–±—ä–µ–∫—Ç—ã Java/Kotlin, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, Gson –∏–ª–∏ Moshi).

* –ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ —á–µ—Ä–µ–∑ Kotlin Coroutines –∏–ª–∏ RxJava.
* –ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.

### 2.2 OkHttp

OkHttp ‚Äì —ç—Ç–æ HTTP –∫–ª–∏–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å Retrofit. –û–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –ø–æ–¥–¥–µ—Ä–∂–∫—É HTTP/2, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ interceptors –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤.

### 2.3 Gson –∏ Moshi

–≠—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ JSON-–¥–∞–Ω–Ω—ã—Ö:

* **Gson** ‚Äì –ø–æ–ø—É–ª—è—Ä–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ—Ç Google, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å JSON –≤ –æ–±—ä–µ–∫—Ç—ã –∏ –æ–±—Ä–∞—Ç–Ω–æ.
* **Moshi** ‚Äì –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç Square, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π Kotlin –∏ –ø—Ä–µ–¥–ª–∞–≥–∞—é—â–∏–π –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤.

![apiintegreation.png](..\apiintegreation.png)

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### 1. REST API

* –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Å—Ç–∏–ª—å –¥–ª—è –≤–µ–±-—Å–µ—Ä–≤–∏—Å–æ–≤
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç HTTP –º–µ—Ç–æ–¥—ã (GET, POST, PUT, DELETE)
* –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
* –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è

### 2. HTTP –º–µ—Ç–æ–¥—ã

* GET - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
* POST - —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
* PUT/PATCH - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
* DELETE - —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

## üõ† –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (build.gradle)

–î–æ–±–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª `build.gradle` –º–æ–¥—É–ª—è —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

````kotlin
dependencies { 
implementation (libs.retrofit)  
implementation (libs.converter.gson)  
implementation (libs.logging.interceptor)  
implementation (libs.kotlinx.coroutines.android)
}

````

### 1. Retrofit

````kotlin
// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ API –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
interface WeatherApi {
    @GET("weather")
    suspend fun getWeather(
        @Query("city") city: String,
        @Query("apiKey") apiKey: String
    ): WeatherResponse
}

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Retrofit
object RetrofitClient {
    private const val BASE_URL = "https://api.weather.com/"
    
    private val retrofit = Retrofit.Builder()
        .baseUrl(BASE_URL)
        .addConverterFactory(GsonConverterFactory.create())
        .client(createOkHttpClient())
        .build()
    
    val weatherApi: WeatherApi = retrofit.create(WeatherApi::class.java)
    
    private fun createOkHttpClient(): OkHttpClient {
        return OkHttpClient.Builder()
            .addInterceptor(HttpLoggingInterceptor().apply {
                level = HttpLoggingInterceptor.Level.BODY
            })
            .build()
    }
}
````

### 2. –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

````kotlin
data class WeatherResponse(
    val temperature: Double,
    val description: String,
    val humidity: Int,
    val windSpeed: Double
)

data class ErrorResponse(
    val code: Int,
    val message: String
)
````

### 3. Repository

````kotlin
class WeatherRepository(
    private val api: WeatherApi,
    private val dispatcher: CoroutineDispatcher = Dispatchers.IO
) {
    suspend fun getWeather(city: String): Result<WeatherResponse> {
        return withContext(dispatcher) {
            try {
                val response = api.getWeather(
                    city = city,
                    apiKey = BuildConfig.WEATHER_API_KEY
                )
                Result.success(response)
            } catch (e: Exception) {
                Result.failure(e)
            }
        }
    }
}
````

### 4. ViewModel

````kotlin
class WeatherViewModel(
    private val repository: WeatherRepository
) : ViewModel() {
    private val _weatherState = MutableStateFlow<WeatherUiState>(WeatherUiState.Initial)
    val weatherState = _weatherState.asStateFlow()
    
    fun getWeather(city: String) {
        viewModelScope.launch {
            _weatherState.value = WeatherUiState.Loading
            
            repository.getWeather(city)
                .onSuccess { weather ->
                    _weatherState.value = WeatherUiState.Success(weather)
                }
                .onFailure { error ->
                    _weatherState.value = WeatherUiState.Error(error.message)
                }
        }
    }
}

sealed class WeatherUiState {
    object Initial : WeatherUiState()
    object Loading : WeatherUiState()
    data class Success(val weather: WeatherResponse) : WeatherUiState()
    data class Error(val message: String?) : WeatherUiState()
}
````

### 5. UI

````kotlin
@Composable
fun WeatherScreen(
    viewModel: WeatherViewModel = viewModel()
) {
    val state by viewModel.weatherState.collectAsState()
    var city by remember { mutableStateOf("") }
    
    Column(
        modifier = Modifier
            .fillMaxSize()
            .padding(16.dp)
    ) {
        OutlinedTextField(
            value = city,
            onValueChange = { city = it },
            label = { Text("–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥") },
            modifier = Modifier.fillMaxWidth()
        )
        
        Spacer(modifier = Modifier.height(8.dp))
        
        Button(
            onClick = { viewModel.getWeather(city) },
            modifier = Modifier.fillMaxWidth()
        ) {
            Text("–ü–æ–ª—É—á–∏—Ç—å –ø–æ–≥–æ–¥—É")
        }
        
        Spacer(modifier = Modifier.height(16.dp))
        
        when (state) {
            is WeatherUiState.Loading -> {
                CircularProgressIndicator()
            }
            is WeatherUiState.Success -> {
                val weather = (state as WeatherUiState.Success).weather
                WeatherInfo(weather)
            }
            is WeatherUiState.Error -> {
                Text(
                    text = (state as WeatherUiState.Error).message ?: "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞",
                    color = MaterialTheme.colorScheme.error
                )
            }
            else -> Unit
        }
    }
}
````

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### 1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS
* –•—Ä–∞–Ω–∏—Ç–µ API –∫–ª—é—á–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ
* –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

* –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤
* –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏
* –ò–Ω—Ñ–æ—Ä–º–∏—Ä—É–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 3. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
* –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã
* –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Ä–∞–∑–º–µ—Ä–æ–º –¥–∞–Ω–Ω—ã—Ö

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

* [Retrofit Documentation](https://square.github.io/retrofit/)
* [Android Network Guide](https://developer.android.com/training/basics/network-ops/connecting)
* [RapidAPI Hub](https://rapidapi.com/hub)
* [–ü—Ä–∞–∫—Ç–∏–∫—É–º –ø–æ Retrofit](https://practicum.yandex.ru/blog/retrofit-na-android/)

## üì±–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ API

https://rapidapi.com/hub
https://community.exolve.ru/blog/10-api-for-developers-for-everyday/

## üé• –í–∏–¥–µ–æ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

[![Watch the video](https://img.youtube.com/vi/jgfB7lgD6Kk/0.jpg)](https://www.youtube.com/watch?v=jgfB7lgD6Kk&pp=ygUbYW5kcm9pZCDQodC10YLRjCDQsiBBbmRyb2lk)
[![Watch the video](https://img.youtube.com/vi/dqUTX6hR9Mk/0.jpg)](https://www.youtube.com/watch?v=dqUTX6hR9Mk&t=74s&pp=ygUgYW5kcm9pZCBhcGkgaW50ZWdyYXRpb24gdHV0b3JpYWw%3D)
[![Watch the video](https://img.youtube.com/vi/ByGJQzlzxQg/0.jpg)](https://www.youtube.com/watch?v=ByGJQzlzxQg&pp=ygUgYW5kcm9pZCBhcGkgaW50ZWdyYXRpb24gdHV0b3JpYWw%3D)

[![Watch the video](https://img.youtube.com/vi/Kn6vUH1uJT4/0.jpg)](https://www.youtube.com/watch?v=Kn6vUH1uJT4&pp=ygUgYW5kcm9pZCBhcGkgaW50ZWdyYXRpb24gdHV0b3JpYWw%3D)
